<!-- import.html — Импорт кошелька по фразе -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TrustVia — Импорт</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/bip39@3.1.0/index.min.js"></script>
    <style>
        body { background: linear-gradient(to bottom, #0b0b0b, #121212); color: white; font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; min-height: 100dvh; }
        .btn-primary { background: linear-gradient(135deg, #00d676, #00e07f); color: black; font-weight: 700; border-radius: 9999px; padding: 18px; width: 100%; font-size: 17px; border: none; cursor: pointer; transition: all 0.25s; box-shadow: 0 6px 20px rgba(0,214,118,0.35); }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,214,118,0.45); }
        textarea { background: #141414; border: 1px solid #444; color: white; border-radius: 24px; padding: 18px; font-family: monospace; font-size: 15px; resize: none; outline: none; transition: all 0.2s; height: 180px; }
        textarea:focus { border-color: #00d676; box-shadow: 0 0 0 3px rgba(0, 214, 118, 0.25); }
        .error-msg { color: #ff4d4d; font-size: 14px; margin-top: 12px; display: none; text-align: center; }
        .back-btn { color: #00d676; font-weight: 600; font-size: 16px; background: none; border: none; padding: 0; margin-bottom: 32px; cursor: pointer; text-align: left; }
    </style>
</head>
<body class="flex flex-col p-6">

    <button class="back-btn" onclick="history.back()">← Назад</button>
    <h2 class="text-4xl font-extrabold mb-4 bg-gradient-to-r from-white to-zinc-300 bg-clip-text text-transparent">Импорт кошелька</h2>
    <p class="text-zinc-400 text-lg mb-8 leading-relaxed">Введите 12 или 24 слова секретной фразы через пробел.</p>

    <textarea id="phraseInput" placeholder="word1 word2 word3 ..."></textarea>
    <p id="import-error" class="error-msg">Неверная фраза. Проверьте количество, порядок и правильность слов.</p>

    <button onclick="handleImport()" class="btn-primary mt-auto uppercase tracking-wider py-6 shadow-2xl">Импортировать кошелёк</button>

    <script>
        function handleImport() {
            const phrase = document.getElementById('phraseInput').value.trim();
            const errorEl = document.getElementById('import-error');

            if (!phrase) {
                errorEl.textContent = 'Введите секретную фразу';
                errorEl.style.display = 'block';
                return;
            }

            const wordCount = phrase.split(/\s+/).length;
            if (wordCount !== 12 && wordCount !== 24) {
                errorEl.textContent = 'Должно быть ровно 12 или 24 слова';
                errorEl.style.display = 'block';
                return;
            }

            if (!bip39.validateMnemonic(phrase)) {
                errorEl.textContent = 'Неверная фраза — слова не из словаря или контрольная сумма не совпадает';
                errorEl.style.display = 'block';
                return;
            }

            localStorage.setItem('mnemonic', phrase);
            localStorage.setItem('walletAddress', '0xc519118cd0c74879bd3FbF5fEaca473397540862');
            window.location.href = 'index.html';
        }
    </script>

</body>
</html>
